/*
Replace <Owner> with the owner of the table
If you changed the name of the table, and fields adjust
  GENERATEID.SEQCOUNTER
  SEQNAME
*/

CREATE OR REPLACE FUNCTION GETNEXTVALUE 
(
  SEQUENCENAME IN VARCHAR2
) RETURN NUMBER is 
PRAGMA AUTONOMOUS_TRANSACTION;
cnumber number;
BEGIN
  update <ONWER>.GENERATEID set <ONWER>.GENERATEID.SEQCOUNTER = (<ONWER>.GENERATEID.SEQCOUNTER + <ONWER>.GGENERATEID.SEQCOUNTER) where SEQNAME = SEQUENCENAME;
  commit;
  SELECT SEQCOUNTER into cnumber FROM UN.GENERATEID WHERE SEQNAME = SEQUENCENAME;
  RETURN cnumber;
END GETNEXTVALUE;
